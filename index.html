<!DOCTYPE html>

<html>
  <head>
    <meta name="description" content="My Porfolio Site - Udacity Frontend developer (Project 1)" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0">
    <meta charset="utf-8">

    <base target="_blank">

    <title>PTV Timetable</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>

    <div class="modal fade" id="stopListModal" tabindex="-1" role="dialog" aria-labelledby="Stops List">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel">Stops List</h4>
          </div>
          <div class="modal-body">
            <div id="list-search">
              <!-- <input type="search" id="stop-search" class="form-control" data-bind="value: query, valueUpdate: 'keyup'" autocomplete="off" placeholder="Search..."/> -->
              <input type="search" id="stop-search" class="form-control" data-bind="textInput: query" autocomplete="off" placeholder="Search..."/>
            </div>
            <div id="stops-list">
              <div class="list-group" data-bind="template: {name: 'stop-template', foreach:stopList}"></div>
              <script type="text/html" id="stop-template">
                <a href="javascript:;" class="list-group-item" data-bind="click: $parent.selectStop.bind($data, $index())">
                  <span data-bind="text: name"></span>
                </a>
              </script>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" id="close-modal" class="btn btn-default" data-dismiss="modal" data-bind="click: closeStopList">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div id="page">
      <div class="container-fluid" id="table-container">
        <div class="row" id="header-row">
          <div class="col-xs-2 col-md-1" id="menu-icon">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="modal" data-target="#stopListModal">
              Stops
            </button>
          </div>
          <div class="col-xs-10 col-md-11" id="input-location">
            <form id="form-location" data-bind="submit: updateCenter">
              <input type="text" class="form-control" id="address-input" data-bind="value: newAddress" required placeholder="Type in address..."/>
              <a href="javascript:;" class="close" data-bind="click: closeAddress">Ã—</a>
              <button type="submit" class="offscreen"></button>
            </form>
          </div>
        </div>
        <div class="row" id="map-row">
          <div class="col-xs-12" id="map-view">
            <div id="map"></div>
          </div>
        </div>
      </div>
    </div>

    <script src="js/lib/jquery-2.2.3.min.js"></script>
    <script src="js/lib/bootstrap-3.3.6.min.js"></script>
    <script src="js/lib/knockout-3.4.0.min.js"></script>
    <script src="js/hmac-sha1.js"></script>
    <script src="js/map.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBf8ksAmVFxAyvr9c8gsb0VUCPZYDNZxms&callback=initMap" onerror="viewModel.errorMap()" async defer></script>

  </body>
</html>
